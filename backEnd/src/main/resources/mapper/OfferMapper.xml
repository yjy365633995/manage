<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.nari.mapper.OfferMapper">
  <insert id="insertOffer" parameterType="org.nari.model.Offer">
    insert into offer
    values (
        #{offerId},#{biddingId}, #{turn},#{companyId},
        #{price},#{dayNum},#{deliveryDate},#{remark},
        #{priceRanking},#{qualityRanking},#{serviceRanking},
        #{priceScore},#{qualityScore},#{serviceScore},#{totalScore},
        #{winningTheBid},#{isEvaluation},#{visible}
    )
  </insert>

  <select id="getOfferById" parameterType="java.lang.String" resultType="org.nari.model.Offer">
    select *from offer
        where offer_id = #{offerId}
  </select>
  <select id="getOffersByBiddingId" parameterType="java.lang.String" resultType="org.nari.model.Offer">
    select *from offer
        where bidding_id = #{biddingId}
  </select>
  <select id="getOffersByUserId" parameterType="java.lang.String" resultType="org.nari.model.Offer">
    select *from offer
        where company_id = #{companyId}
  </select>
  <select id="getAll" resultType="org.nari.model.Offer">
    select *from offer
  </select>

  <update id="updateOfferById" parameterType="org.nari.model.Offer">
    update offer
    set bidding_id = #{biddingId},
      turn = #{turn},
      company_id = #{companyId},
      price = #{price},
      day_num = #{dayNum},
      delivery_date = #{deliveryDate},
      remark = #{remark},
      price_ranking = #{priceRanking},
      quality_ranking = #{qualityRanking},
      service_ranking = #{serviceRanking},
      price_score = #{priceScore},
      quality_score = #{qualityScore},
      service_score = #{serviceScore},
      total_score = #{totalScore},
      winning_the_bid = #{winningTheBid},
      is_evaluation = #{isEvaluation},
      visible = #{visible}
    where offer_id = #{offerId}
  </update>

  <delete id="deleteOfferById" parameterType="java.lang.String">
    delete from offer where
        offer_id = #{offerId}
  </delete>
</mapper>